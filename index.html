<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gender Reveal - Gloria Guerra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        .montserrat {
            font-family: 'Montserrat', sans-serif;
        }
        
        .section-1 {
            background-image: url('assets/sheorhe.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        /* Desktop/Laptop: usar imagen de hero específica */
        @media (min-width: 1024px) {
            .section-1 {
                background-image: url('assets/desktop.png');
            }
        }
        
        .section-2 {
            background-image: url('assets/2.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .section-3 {
            background-image: url('assets/3.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .section-4 {
            background-image: url('assets/4.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .gender-button:hover {
            transform: scale(1.05);
            transition: transform 0.2s ease-in-out;
        }

        .gender-button.selected {
            border: 3px solid #8B7355;
            box-shadow: 0 0 10px rgba(139, 115, 85, 0.5);
        }

        /* (Opcional) Clases personalizadas ya no usadas; animación ahora con Animate.css */
    </style>
</head>
<body class="bg-white">
    <!-- Alerta superior global (oculta por defecto) -->
    <div class="fixed top-2 inset-x-0 flex justify-center z-50 pointer-events-none">
        <div id="alert-top" class="hidden pointer-events-auto montserrat text-sm px-4 py-3 rounded-xl shadow-lg border-2 animate__animated" style="background-color:#8B7355; border-color:#8B7355; color:#ffffff;"></div>
    </div>
    <!-- SECCIÓN 1 (HERO) -->
    <section class="section-1 min-h-[100svh] relative pb-6">
        <!-- Mensaje superior izquierdo con animación -->
        <div class="absolute top-4 left-4 w-1/2 pr-4">
            <p class="montserrat text-lg md:text-xl lg:text-2xl font-medium animate__animated animate__fadeInDown" style="color: #8B7355;">
                Acompáñanos en este día especial
            </p>
        </div>
        <!-- Countdown en esquina inferior derecha -->
        <div class="absolute right-4 text-right animate__animated animate__fadeInUp" style="bottom: max(0.75rem, env(safe-area-inset-bottom));">
            <div class="montserrat text-xs font-medium mb-1" style="color: #8B7355;">FALTAN:</div>
            <div id="countdown" class="flex space-x-2">
                <div id="days" class="montserrat text-xl font-medium" style="color: #8B7355;">00</div>
                <div class="montserrat text-xl font-medium" style="color: #8B7355;">:</div>
                <div id="hours" class="montserrat text-xl font-medium" style="color: #8B7355;">00</div>
                <div class="montserrat text-xl font-medium" style="color: #8B7355;">:</div>
                <div id="minutes" class="montserrat text-xl font-medium" style="color: #8B7355;">00</div>
                <div class="montserrat text-xl font-medium" style="color: #8B7355;">:</div>
                <div id="seconds" class="montserrat text-xl font-medium" style="color: #8B7355;">00</div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 2 -->
    <section class="section-2 h-screen flex flex-col justify-center items-center px-8 relative">
        <div class="max-w-3xl w-full mt-16">
            <!-- Imágenes fijas a los bordes para slide -->
            <img id="bunny-left" src="assets/conejita.png" alt="Conejita" class="hidden fixed left-0 bottom-8 h-40 md:h-56 object-contain z-40 animate__animated" />
            <img id="bunny-right" src="assets/conejito.png" alt="Conejito" class="hidden fixed right-0 bottom-8 h-40 md:h-56 object-contain z-40 animate__animated" />
            <!-- Título -->
            <div class="text-center mb-6">
                <h2 class="montserrat text-2xl font-normal mb-2" style="color: #8B7355;">DETALLES DEL EVENTO</h2>
                <div class="w-16 h-1 mx-auto" style="background-color: #8B7355;"></div>
            </div>

            <!-- Información del evento -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Ubicación y Hora -->
                <div class="bg-white/50 rounded-lg p-5 shadow-lg">
                    <div class="text-center mb-4">
                        <i class="fas fa-map-marker-alt text-xl mb-2" style="color: #8B7355;"></i>
                        <h3 class="montserrat text-xl font-normal mb-2" style="color: #8B7355;">UBICACIÓN</h3>
                        <p class="montserrat text-sm mb-1" style="color: #8B7355;">Salón de Eventos "Garden Palace"</p>
                        <p class="montserrat text-xs" style="color: #8B7355;">Av. Principal 1234, Sector Norte</p>
                        <p class="montserrat text-xs" style="color: #8B7355;">Ciudad, Estado 12345</p>
                    </div>
                    
                    <div class="text-center">
                        <i class="fas fa-clock text-xl mb-2" style="color: #8B7355;"></i>
                        <h3 class="montserrat text-xl font-normal mb-2" style="color: #8B7355;">HORA</h3>
                        <p class="montserrat text-sm" style="color: #8B7355;">Sábado, 25 de Octubre</p>
                        <p class="montserrat text-sm" style="color: #8B7355;">2:00 PM - 5:00 PM</p>
                    </div>
                </div>

                <!-- Itinerario -->
                <div class="bg-white/50 rounded-lg p-5 shadow-lg">
                    <div class="text-center mb-4">
                        <i class="fas fa-list-alt text-xl mb-2" style="color: #8B7355;"></i>
                        <h3 class="montserrat text-xl font-normal" style="color: #8B7355;">ITINERARIO</h3>
                    </div>
                    
                    <div class="space-y-2 text-center">
                        <div class="flex items-center justify-center">
                            <div class="w-5 h-5 rounded-full flex items-center justify-center mr-2" style="background-color: #8B7355;">
                                <span class="montserrat text-xs font-semibold text-white">1</span>
                            </div>
                            <div>
                                <p class="montserrat text-xs font-medium" style="color: #8B7355;">2:00 PM - Bienvenida</p>
                                <p class="montserrat text-[10px]" style="color: #8B7355;">Recepción y refrigerios</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-center">
                            <div class="w-5 h-5 rounded-full flex items-center justify-center mr-2" style="background-color: #8B7355;">
                                <span class="montserrat text-xs font-semibold text-white">2</span>
                            </div>
                            <div>
                                <p class="montserrat text-xs font-medium" style="color: #8B7355;">2:30 PM - Actividades</p>
                                <p class="montserrat text-[10px]" style="color: #8B7355;">Juegos y predicciones</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-center">
                            <div class="w-5 h-5 rounded-full flex items-center justify-center mr-2" style="background-color: #8B7355;">
                                <span class="montserrat text-xs font-semibold text-white">3</span>
                            </div>
                            <div>
                                <p class="montserrat text-xs font-medium" style="color: #8B7355;">3:00 PM - Revelación</p>
                                <p class="montserrat text-[10px]" style="color: #8B7355;">El momento esperado</p>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-center">
                            <div class="w-5 h-5 rounded-full flex items-center justify-center mr-2" style="background-color: #8B7355;">
                                <span class="montserrat text-xs font-semibold text-white">4</span>
                            </div>
                            <div>
                                <p class="montserrat text-xs font-medium" style="color: #8B7355;">3:30 PM - Celebración</p>
                                <p class="montserrat text-[10px]" style="color: #8B7355;">Pastel y fotos familiares</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 3 -->
    <section class="section-3 h-screen flex flex-col justify-center items-center px-8 relative">
        <div class="max-w-3xl w-full mt-16">
            <!-- Título -->
            <div class="text-center mb-6">
                <h2 class="montserrat text-2xl font-normal mb-2" style="color: #8B7355;">CÓDIGO DE VESTIMENTA Y REGALO</h2>
                <div class="w-16 h-1 mx-auto" style="background-color: #8B7355;"></div>
            </div>

            <!-- Información de código de vestimenta y regalo -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Código de vestimenta -->
                <div class="bg-white/50 rounded-lg p-5 shadow-lg">
                    <div class="text-center mb-4">
                        <i class="fas fa-tshirt text-xl mb-2" style="color: #8B7355;"></i>
                        <h3 class="montserrat text-xl font-normal mb-2" style="color: #8B7355;">CÓDIGO DE VESTIMENTA</h3>
                        <p class="montserrat text-sm mb-1" style="color: #8B7355;">Casual en colores neutros (nude)</p>
                        <p class="montserrat text-xs" style="color: #8B7355;">Te invitamos a vestir con tonos suaves como beige, crema, o blanco roto para complementar la temática del evento.</p>
                    </div>
                </div>

                <!-- Regalo -->
                <div class="bg-white/50 rounded-lg p-5 shadow-lg">
                    <div class="text-center mb-4">
                        <i class="fas fa-gift text-xl mb-2" style="color: #8B7355;"></i>
                        <h3 class="montserrat text-xl font-normal mb-2" style="color: #8B7355;">REGALO</h3>
                        <p class="montserrat text-sm mb-1" style="color: #8B7355;">Sobre</p>
                        <p class="montserrat text-xs" style="color: #8B7355;">Tu presencia es el mejor regalo, pero si deseas contribuir, agradecemos un sobre con tu apoyo para el futuro de nuestro bebé.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- SECCIÓN 4 -->
    <section class="section-4 h-screen flex flex-col justify-center items-center px-8 relative">
        <div class="max-w-3xl w-full mt-16">
            <!-- Título -->
            <div class="text-center mb-6">
                <h2 class="montserrat text-2xl font-normal mb-2" style="color: #8B7355;">CONFIRMA TU ASISTENCIA</h2>
                <div class="w-16 h-1 mx-auto" style="background-color: #8B7355;"></div>
            </div>

            <!-- Formulario de asistencia -->
            <div class="bg-white/50 rounded-lg p-5 shadow-lg">
                <div class="text-center mb-4">
                    <i class="fas fa-envelope text-xl mb-2" style="color: #8B7355;"></i>
                    <h3 class="montserrat text-xl font-normal mb-2" style="color: #8B7355;">FORMULARIO DE ASISTENCIA</h3>
                    <p class="montserrat text-xs" style="color: #8B7355;">Por favor, confirma tu asistencia.</p>
                    <div id="thankyou-message" class="hidden mt-2">
                        <span class="montserrat text-sm md:text-base font-semibold animate__animated" style="color: #8B7355;">¡Gracias! Te esperamos!</span>
                    </div>
                </div>

                <div class="space-y-4">
                    <!-- Nombre -->
                    <div id="name-field">
                        <label class="montserrat text-sm font-normal" style="color: #8B7355;">Nombre completo</label>
                        <input type="text" class="w-full mt-1 p-2 rounded-lg border" style="border-color: #8B7355; color: #8B7355;" placeholder="Ingresa tu nombre">
                    </div>

                    <!-- Número de asistentes -->
                    <div id="guests-field">
                        <label class="montserrat text-sm font-normal" style="color: #8B7355;">Número de asistentes</label>
                        <input type="number" min="1" class="w-full mt-1 p-2 rounded-lg border" style="border-color: #8B7355; color: #8B7355;" placeholder="1">
                    </div>

                    <!-- Predicción del género (botones con imágenes) -->
                    <div id="prediction-section" class="hidden">
                        <label class="montserrat text-sm font-normal block text-center mb-2" style="color: #8B7355;">Será...</label>
                        <div class="flex items-center justify-center space-x-8">
                            <!-- Botón imagen Niña (izquierda) -->
                            <div class="flex flex-col items-center animate__animated animate__fadeInUp">
                                <button id="girl-button" aria-label="Elegir Niña" class="gender-button cursor-pointer focus:outline-none">
                                    <img src="assets/niña.png" alt="Niña" class="h-24 w-24 md:h-28 md:w-28 object-contain rounded-xl shadow hover:scale-105 transition-transform duration-200" />
                                </button>
                            </div>

                            <!-- Botón imagen Niño (derecha) -->
                            <div class="flex flex-col items-center animate__animated animate__fadeInUp animate__delay-1s">
                                <button id="boy-button" aria-label="Elegir Niño" class="gender-button cursor-pointer focus:outline-none">
                                    <img src="assets/niño.png" alt="Niño" class="h-24 w-24 md:h-28 md:w-28 object-contain rounded-xl shadow hover:scale-105 transition-transform duration-200" />
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Botón de enviar -->
                    <div id="submit-row" class="text-center space-x-2">
                        <button id="submit-button" class="montserrat text-sm font-medium px-4 py-2 rounded-lg" style="background-color: #8B7355; color: white;">Enviar</button>
                        <button id="decline-button" class="montserrat text-sm font-medium px-4 py-2 rounded-lg border" style="border-color:#8B7355; color:#8B7355; background-color: transparent;">No podré asistir</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Forzar que siempre inicie arriba (no restaurar posición de scroll)
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }
        window.addEventListener('load', () => {
            window.scrollTo({ top: 0, left: 0, behavior: 'auto' });
        });
        // Countdown Timer
        function updateCountdown() {
            const eventDate = new Date('October 25, 2025 14:00:00').getTime();
            const now = new Date().getTime();
            const distance = eventDate - now;

            if (distance < 0) {
                document.getElementById('countdown').innerHTML = '<div class="montserrat text-lg font-medium" style="color: #8B7355;">¡YA LLEGÓ!</div>';
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').innerHTML = days.toString().padStart(2, '0');
            document.getElementById('hours').innerHTML = hours.toString().padStart(2, '0');
            document.getElementById('minutes').innerHTML = minutes.toString().padStart(2, '0');
            document.getElementById('seconds').innerHTML = seconds.toString().padStart(2, '0');
        }

        // Actualizar countdown cada segundo
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Gender Selection and Confetti Animation
        const boyButton = document.getElementById('boy-button');
        const girlButton = document.getElementById('girl-button');
        const submitButton = document.getElementById('submit-button');
        const declineButton = document.getElementById('decline-button');
        const predictionSection = document.getElementById('prediction-section');
        const thankyouMessage = document.getElementById('thankyou-message');
        const nameField = document.getElementById('name-field');
        const guestsField = document.getElementById('guests-field');
        const submitRow = document.getElementById('submit-row');
        let bunnyHideTimeout;

        function selectGender(button, isBoy) {
            // Remove selected class from both buttons
            boyButton.classList.remove('selected');
            girlButton.classList.remove('selected');
            // Add selected class to clicked button
            button.classList.add('selected');
            // Trigger confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: isBoy ? ['#1E90FF', '#87CEEB'] : ['#FF69B4', '#FFB6C1']
            });

            // Mostrar imágenes deslizables según selección
            // Imágenes fijas en los bordes
            const bunnyLeft = document.getElementById('bunny-left');   // aparecerá desde la izquierda
            const bunnyRight = document.getElementById('bunny-right'); // aparecerá desde la derecha

            // Resetear visibilidad y animaciones
            bunnyLeft.classList.add('hidden');
            bunnyRight.classList.add('hidden');
            bunnyLeft.classList.remove('animate__slideInLeft');
            bunnyRight.classList.remove('animate__slideInRight');

            // Limpiar timeout previo si existe
            if (bunnyHideTimeout) clearTimeout(bunnyHideTimeout);

            let shownEl;
            if (isBoy) {
                // Niño -> aparece conejito por la derecha hacia el centro
                bunnyRight.classList.remove('hidden');
                bunnyRight.classList.add('animate__animated', 'animate__slideInRight');
                shownEl = bunnyRight;
            } else {
                // Niña -> aparece conejita por la izquierda hacia el centro
                bunnyLeft.classList.remove('hidden');
                bunnyLeft.classList.add('animate__animated', 'animate__slideInLeft');
                shownEl = bunnyLeft;
            }

            // Programar desaparición a los 3s con fadeOut
            bunnyHideTimeout = setTimeout(() => {
                // quitar clases de slide-in para evitar conflictos
                shownEl.classList.remove('animate__slideInLeft', 'animate__slideInRight');
                shownEl.classList.add('animate__fadeOut');
                shownEl.addEventListener('animationend', () => {
                    shownEl.classList.add('hidden');
                    shownEl.classList.remove('animate__fadeOut');
                    // Recargar página al finalizar la salida
                    location.reload();
                }, { once: true });
            }, 3000);
        }

        boyButton.addEventListener('click', () => selectGender(boyButton, true));
        girlButton.addEventListener('click', () => selectGender(girlButton, false));

        // Mostrar encuesta y ocultar formulario al enviar
        submitButton.addEventListener('click', () => {
            // Ocultar campos del formulario
            nameField.classList.add('hidden');
            guestsField.classList.add('hidden');
            submitRow.classList.add('hidden');
            // Mostrar encuesta
            if (predictionSection.classList.contains('hidden')) {
                predictionSection.classList.remove('hidden');
                predictionSection.classList.add('animate__animated', 'animate__fadeInUp');
                predictionSection.addEventListener('animationend', () => {
                    predictionSection.classList.remove('animate__fadeInUp');
                }, { once: true });
            }
            // Alertas: superior y en encuesta
            const alertTop = document.getElementById('alert-top');
            const message = '¡Enviado! Gracias por confirmar tu asistencia.';
            // Alerta superior con animación más llamativa
            alertTop.textContent = message;
            alertTop.classList.remove('hidden');
            alertTop.classList.remove('animate__fadeOutUp', 'animate__fadeInDown', 'animate__heartBeat', 'animate__tada', 'animate__shakeX');
            alertTop.classList.add('animate__fadeInDown');
            // combo de atención
            setTimeout(() => {
                alertTop.classList.add('animate__tada');
            }, 250);
            setTimeout(() => {
                alertTop.classList.remove('animate__tada');
                alertTop.classList.add('animate__shakeX');
            }, 850);
            // salida automática
            setTimeout(() => {
                alertTop.classList.remove('animate__shakeX', 'animate__fadeInDown');
                alertTop.classList.add('animate__fadeOutUp');
                alertTop.addEventListener('animationend', () => {
                    alertTop.classList.add('hidden');
                    alertTop.classList.remove('animate__fadeOutUp');
                }, { once: true });
            }, 2500);
        });

        // No podré asistir: mostrar solo alerta y ocultar formulario (sin encuesta)
        declineButton.addEventListener('click', () => {
            nameField.classList.add('hidden');
            guestsField.classList.add('hidden');
            submitRow.classList.add('hidden');
            // Agradecimiento distinto
            const alertTop = document.getElementById('alert-top');
            const message = 'Gracias por avisar. ¡Te veremos en la próxima!';
            alertTop.textContent = message;
            alertTop.classList.remove('hidden');
            alertTop.classList.remove('animate__fadeOutUp', 'animate__fadeInDown', 'animate__tada', 'animate__shakeX');
            alertTop.classList.add('animate__fadeInDown');
            setTimeout(() => { alertTop.classList.add('animate__tada'); }, 250);
            setTimeout(() => {
                alertTop.classList.remove('animate__tada');
                alertTop.classList.add('animate__shakeX');
            }, 850);
            setTimeout(() => {
                alertTop.classList.remove('animate__shakeX', 'animate__fadeInDown');
                alertTop.classList.add('animate__fadeOutUp');
                alertTop.addEventListener('animationend', () => {
                    alertTop.classList.add('hidden');
                    alertTop.classList.remove('animate__fadeOutUp');
                }, { once: true });
            }, 2500);

            // Recargar a los 3 segundos y volver al hero (arriba)
            setTimeout(() => {
                location.reload();
            }, 3000);
        });
    </script>

    <footer class="py-4 text-center">
        <a href="https://instagram.com/invitedmx" target="_blank" rel="noopener noreferrer" class="inline-flex items-center space-x-2">
            <i class="fab fa-instagram" style="color: #8B7355;"></i>
            <span class="montserrat text-sm font-medium" style="color: #8B7355;">invitedmx</span>
        </a>
    </footer>
</body>
</html>
